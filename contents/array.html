<?xml version="1.0" encoding="Shift_JIS"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- generated by to_html.pl from array.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS" />
	<title>Array Class</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard Style for Kirikiri Related Reference" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top Page" />
</head>
<body>
<h1><a id="id2" name="id2">Array Class</a>
</h1><div class="para"><div>
The Array class is a class for handling <a id="id3" name="id3" class="targanchor"><dfn>arrays</dfn></a>.<br />
<br />
You can create objects of this class and treat them like arrays using indices specified by the indirect member selection operator. Indices are integers. 0 represents the first element, and 1 represents the next element. Specifying a negative integer treats it as being from the end of the array (-1 represents the last element).<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a&nbsp;=&nbsp;new&nbsp;Array();<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;100;i++)&nbsp;a[i]=i;<br />
</code>
<br />

<br />
The size of the array does not need to be declared. The size is automatically expanded to the specified index size, and elements that have not been assigned any value are initialized to void.<br />
<br />
Additionally, there is a count property, which represents the size of the array. Assigning a value to the count property also allows you to change the size of the array.<br />
</div></div>

<h1><a id="id4" name="id4">Array Literals</a>
</h1><div class="para"><div>
Using <code class="inlinecode"><a id="id5" name="id5" class="targanchor"><dfn>[ ]</dfn></a></code>, you can describe Array class objects on the spot within an expression. List the expressions that will be the initial elements in <code class="inlinecode">[ ]</code>, separated by commas. For example, if you write<br />
<code class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;var ar = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</code>, a reference to an <code class="inlinecode">Array</code> class object containing the elements <code class="inlinecode">&quot;a&quot; &quot;b&quot; &quot;c&quot;</code> will be assigned to <code class="inlinecode">ar</code>.<br />
</div></div>
<h1><a id="id6" name="id6">count</a>
</h1><div class="para"><div>
The count property represents the size of the array.<br />
</div></div>
<h1><a id="id7" name="id7">load</a>
</h1><div class="para"><div>
The load method reads an array from a file.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;load(&lt;filename&gt;,&nbsp;&lt;mode=''&gt;)<br />
</code>
<br />

Reads an array from a text file. Each line of the text in the file is placed into each element, and finally, the count property becomes the same as the number of lines in the file.<br />
For the mode, specify the mode string used when reading the file. This varies depending on the environment in which TJS is running. Specifying a decimal offset following "o" will start reading from that byte position in the file.<br />
Depending on the environment in which TJS is running, this method, the save method, and the saveStruct method may not be available.<br />
The load method returns the Array class object itself.<br />
</div></div>
<h1><a id="id8" name="id8">save</a>
</h1><div class="para"><div>
The save method writes the array to a file.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;save(&lt;filename&gt;,&nbsp;&lt;mode=''&gt;)<br />
</code>
<br />

Writes the array to a file. Each member is output line by line, but references to objects, classes, functions, etc., will be empty lines.<br />
For the mode, specify the mode string used when writing the file. This varies depending on the environment in which TJS is running, but in the case of Kirikiri, specifying "c" applies simple encryption to the file (it can be read as is with the load method). Specifying "z" allows the file to be saved with compression (cannot be used with "c"; this can also be read as is with the load method). Specifying a decimal offset following "o" will start writing from that byte position in the file.<br />
The save method returns the Array class object itself.<br />
</div></div>
<h1><a id="id9" name="id9">split</a>
</h1><div class="para"><div>
The split method splits a string.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;split(&lt;pattern/delimiter set&gt;,&nbsp;&lt;string&gt;,&nbsp;&lt;(reserved)&gt;,&nbsp;&lt;ignore empty elements=false&gt;)</code>
<br />

Initializes the array and copies into it the string split by the pattern or delimiter set.<br />
Specify the pattern or delimiter set in the first argument.<br />
The pattern must be a regular expression object.<br />
In the delimiter set, specify the characters to be used as delimiters. You can specify multiple delimiters by providing a string.<br />
The third argument is reserved for future versions.<br />
For "ignore empty elements", specify true if you do not want to copy empty elements (for example, ,,,,, when using a comma as a delimiter) into the array.<br />
Please pay attention to the order of the arguments.<br />
</div></div>
<h1><a id="id10" name="id10">join</a>
</h1><div class="para"><div>
The join method joins the array into a single string.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;join(&lt;delimiter&gt;,&nbsp;&lt;(reserved)&gt;,&nbsp;&lt;ignore empty elements=false&gt;)</code>
<br />

Joins each element of the array with the delimiter and returns the joined string.<br />
If "ignore empty elements" is true, void elements in the array are ignored.<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ar&nbsp;=&nbsp;[&nbsp;&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;void,&nbsp;&quot;d&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s1&nbsp;=&nbsp;ar.join(&quot;,&quot;);&nbsp;<span class="comment">//&nbsp;&quot;a,b,,d&quot;&nbsp;is&nbsp;assigned&nbsp;to&nbsp;s1</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s2&nbsp;=&nbsp;ar.join(&quot;,&quot;,,true);&nbsp;<span class="comment">//&nbsp;&quot;a,b,d&quot;&nbsp;is&nbsp;assigned&nbsp;to&nbsp;s2</span><br />
</code>
<br />

</div></div>
<h1><a id="id11" name="id11">reverse</a>
</h1><div class="para"><div>
The reverse method reverses the order of the array elements.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;reverse()<br />
</code>
<br />

</div></div>
<h1><a id="id12" name="id12">sort</a>
</h1><div class="para"><div>
The sort method sorts the array.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;sort(&lt;sort order='+'&gt;,&nbsp;&lt;perform stable sort=false&gt;)</code>
<br />

The sort order is one of the following strings. In ascending order, elements are rearranged from smallest to largest, and descending order is the reverse. If omitted, it is assumed that '+' is specified.<br />

<br />
<code class="bq">&quot;+&quot;&nbsp;&nbsp;:&nbsp;Ascending&nbsp;(comparison&nbsp;with&nbsp;the&nbsp;standard&nbsp;&lt;&nbsp;operator)<br />
&quot;-&quot;&nbsp;&nbsp;:&nbsp;Descending<br />
&quot;0&quot;&nbsp;&nbsp;:&nbsp;Numeric&nbsp;ascending&nbsp;(&nbsp;10,2,1&nbsp;is&nbsp;rearranged&nbsp;to&nbsp;1,2,10&nbsp;)<br />
&quot;9&quot;&nbsp;&nbsp;:&nbsp;Numeric&nbsp;descending<br />
&quot;a&quot;&nbsp;&nbsp;:&nbsp;String&nbsp;ascending&nbsp;(&nbsp;&quot;a&quot;,&quot;c&quot;,&quot;b&quot;&nbsp;is&nbsp;rearranged&nbsp;to&nbsp;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;&nbsp;)<br />
&quot;z&quot;&nbsp;&nbsp;:&nbsp;String&nbsp;descending<br />
</code>
<br />

A function can be specified instead of a sort order character. The function takes two arguments. Specify a function that returns true if the first argument should come before the second argument (Note that the meaning of the return value is different from the function passed to JavaScript's sort method).<br />
<br />
The second argument specifies whether to perform a stable sort. If omitted, it is assumed that false is specified, and an unstable sort is performed. In a stable sort, the order of array elements with the same rank remains the same after sorting. In the case of an unstable sort, there is no guarantee that the order of array elements with the same rank will remain the same after sorting.<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;0,&nbsp;1,&nbsp;2,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;4,&nbsp;6,&nbsp;2&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;After&nbsp;method&nbsp;execution,&nbsp;array&nbsp;becomes&nbsp;[0,&nbsp;1,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6,&nbsp;10,&nbsp;12,&nbsp;14]</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('-');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;After&nbsp;method&nbsp;execution,&nbsp;array&nbsp;becomes&nbsp;[14,&nbsp;12,&nbsp;10,&nbsp;6,&nbsp;4,&nbsp;2,&nbsp;2,&nbsp;1,&nbsp;0]</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('a');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;After&nbsp;method&nbsp;execution,&nbsp;array&nbsp;becomes&nbsp;[0,&nbsp;1,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6]</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;hoge&quot;,&nbsp;&quot;foo&quot;&nbsp;,&nbsp;&quot;bar&quot;,&nbsp;&quot;baz&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;After&nbsp;method&nbsp;execution,&nbsp;array&nbsp;becomes&nbsp;[&quot;bar&quot;,&nbsp;&quot;baz&quot;,&nbsp;&quot;foo&quot;,&nbsp;&quot;hoge&quot;]</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a&lt;&nbsp;b;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;Same&nbsp;meaning&nbsp;as&nbsp;specifying&nbsp;'+'</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;In&nbsp;order&nbsp;of&nbsp;shortest&nbsp;string&nbsp;length</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(There&nbsp;is&nbsp;no&nbsp;guarantee&nbsp;that&nbsp;&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;with&nbsp;the&nbsp;same&nbsp;length</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;will&nbsp;be&nbsp;in&nbsp;the&nbsp;order&nbsp;&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;after&nbsp;sorting)</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;},&nbsp;true&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;In&nbsp;order&nbsp;of&nbsp;shortest&nbsp;string&nbsp;length</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;with&nbsp;the&nbsp;same&nbsp;length&nbsp;will&nbsp;remain&nbsp;in&nbsp;this&nbsp;order&nbsp;after&nbsp;sorting)</span><br />
</code>
<br />

</div></div>
<h1><a id="id13" name="id13">saveStruct</a>
</h1><div class="para"><div>
saveStruct outputs structured data to a file.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;saveStruct(&lt;filename&gt;,&nbsp;&lt;mode=''&gt;)<br />
</code>
<br />

The saveStruct method outputs the state of elements to a file in a restorable state.<br />
Each element can contain strings, real numbers, octet sequences, and integers. Additionally, if an element is an object, its contents will also be output to the file only if it is an Array class or Dictionary class object. For other elements, void is output.<br />
For example,<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;([&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;[4,&nbsp;5],&nbsp;%[&nbsp;a&nbsp;:&nbsp;1,&nbsp;b&nbsp;:&nbsp;2&nbsp;],&nbsp;&quot;String&quot;&nbsp;]).saveStruct(&quot;out.txt&quot;);<br />
</code>
<br />

Then content like<br />
<code class="bq">(const)&nbsp;[<br />
&nbsp;&nbsp;&nbsp;&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;3,<br />
&nbsp;&nbsp;&nbsp;&nbsp;(const)&nbsp;[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;(const)&nbsp;%[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;a&quot;&nbsp;=&gt;&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;b&quot;&nbsp;=&gt;&nbsp;2<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;String&quot;<br />
]<br />
</code>
<br />

will be output. This allows the same structure as when it was saved to be restored by evaluating the entire file as a single expression.<br />
The (const) here indicates that the contents of [ ] or %[ ] consist only of constant terms. When the compiler sees this (const), it can assume that the subsequent literal dictionary or array contains only constant terms and load it with high efficiency.<br />
The saveStruct method returns the Array class object itself.<br />
</div></div>
<h1><a id="id14" name="id14">assign</a>
</h1><div class="para"><div>
The assign method copies an array.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;assign(&lt;source&nbsp;array&gt;)<br />
</code>
<br />

Copies the contents of the other array specified by the argument exactly.<br />
<br />
If a dictionary (an object of the Dictionary class) is specified as the source array, it becomes an array where each member of that dictionary appears alternately as name and value. The order of members is undefined.<br />
</div></div>
<h1><a id="id15" name="id15">assignStruct</a>
</h1><div class="para"><div>
The assignStruct method copies an array along with its structure.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;assignStruct(&lt;source&nbsp;array&gt;)<br />
</code>
<br />

Copies the contents of the other array specified by the argument exactly.<br />
Unlike the assign method, if there is an array or dictionary among the members, its contents are also copied recursively (in the case of the assign method, only the reference is copied).<br />
</div></div>
<h1><a id="id16" name="id16">clear</a>
</h1><div class="para"><div>
The clear method deletes all elements of the array.<br />
</div></div>
<h1><a id="id17" name="id17">erase</a>
</h1><div class="para"><div>
The erase method deletes the element at the specified index.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;erase(&lt;index&gt;)<br />
</code>
<br />

Deletes the index at the specified position. Elements after the index are shifted forward one by one and packed. An exception occurs if the index is out of range.<br />
</div></div>
<h1><a id="id18" name="id18">remove</a>
</h1><div class="para"><div>
The remove method deletes elements that have the same value as the specified value.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;remove(&lt;value&gt;,&nbsp;&lt;delete&nbsp;all=true&gt;)<br />
</code>
<br />

Identically compares each element with the specified value (behavior of the <a id="id19" name="id19" class="targanchor"><dfn>===</dfn></a> operator) and deletes matching elements.<br />
If "delete all" is false, only the first element found is deleted. Otherwise, all elements found are deleted.<br />
</div></div>
<h1><a id="id20" name="id20">insert</a>
</h1><div class="para"><div>
The insert method inserts the specified value at the specified position.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;insert(&lt;position&gt;,&nbsp;&lt;value&gt;)<br />
</code>
<br />

Inserts the element indicated by the value at the index position indicated by the position. Elements after the position are shifted backward one by one.<br />
</div></div>
<h1><a id="id21" name="id21">add</a>
</h1><div class="para"><div>
The add method adds the specified value to the end of the array.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;add(&lt;value&gt;)<br />
</code>
<br />

Adds the element indicated by the value to the end of the array.<br />
This method returns the position where the value was added.<br />
</div></div>
<h1><a id="id22" name="id22">find</a>
</h1><div class="para"><div>
The find method returns the index where the specified value first appears.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;find(&lt;value&gt;,&nbsp;&lt;search&nbsp;start&nbsp;position=0&gt;)<br />
</code>
<br />

Checks the specified value in order starting from the index of the search start position and returns the index where it first appears. Returns -1 if the specified value is not found.<br />
Identical comparison (behavior of the === operator) is used for the comparison.<br />
</div></div>
<h1><a id="id23" name="id23">push</a>
</h1><div class="para"><div>
The push method adds the specified elements to the end of the array.<br />
Unlike the add method, this method returns the size of the array after the addition. Also, if multiple arguments are specified, all arguments are added in order.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;push(&lt;value&gt;,&nbsp;...)<br />
</code>
<br />

</div></div>
<h1><a id="id24" name="id24">pop</a>
</h1><div class="para"><div>
The push method removes one element from the end of the array and returns it. The removed element is deleted from the array (the array size decreases by one).<br />
This method returns the removed element. If there were no elements, it returns void.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;pop()<br />
</code>
<br />

</div></div>

<h1><a id="id25" name="id25">unshift</a>
</h1><div class="para"><div>
The unshift method adds elements to the beginning of the array. If multiple elements are specified, multiple elements can be added to the beginning. In this case, for example, if a, b, c are passed in that order, the elements at the beginning of the array will be in the order a, b, c.<br />
This method returns the size of the array after the addition.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;unshift(&lt;value&gt;,&nbsp;...)<br />
</code>
<br />

</div></div>
<h1><a id="id26" name="id26">shift</a>
</h1><div class="para"><div>
The shift method removes one element from the beginning of the array and returns it. The removed element is deleted from the array (the array size decreases by one).<br />
This method returns the removed element. If there were no elements, it returns void.<br />

<br />
<code class="bq">Syntax&nbsp;:&nbsp;shift()<br />
</code>
<br />

</div></div>
	<script type="text/javascript" charset="Shift_JIS" src="documentid.js" ></script>
	<script type="text/javascript" charset="Shift_JIS" src="postcontent.js" ></script>
</body>
</html>